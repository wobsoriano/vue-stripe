---
title: Checkout
description: CheckoutProvider and EmbeddedCheckout components
navigation: true
seo:
  title: Checkout Integration
  description: Learn about CheckoutProvider and EmbeddedCheckout in Vue
---

## Checkout

Vue Stripe provides two checkout solutions:

1. **CheckoutProvider** - For Elements with Checkout Sessions (Embedded Checkout)
2. **EmbeddedCheckout** - A pre-built checkout UI that you embed in your application

## CheckoutProvider

The `CheckoutProvider` allows you to use Element components with Checkout Sessions. This is used for Elements with Checkout Sessions integrations.

### Basic Usage

```vue
<script setup>
import { loadStripe } from '@stripe/stripe-js'
import { CheckoutProvider, PaymentElement, useCheckout } from 'vue-stripe/checkout'

const stripePromise = loadStripe('pk_test_xxx')

function fetchClientSecret() {
  return fetch('/create-checkout-session', { method: 'POST' })
    .then(response => response.json())
    .then(data => data.clientSecret)
}
</script>

<template>
  <CheckoutProvider
    :stripe="stripePromise"
    :options="{ clientSecret: fetchClientSecret }"
  >
    <CheckoutForm />
  </CheckoutProvider>
</template>
```

### Using useCheckout

```vue
<script setup>
import { PaymentElement, useCheckout } from 'vue-stripe/checkout'

const checkout = useCheckout()

async function handleSubmit() {
  if (checkout.value?.type === 'loading') {
    return
  }

  if (checkout.value?.type === 'error') {
    console.error(checkout.value.error)
    return
  }

  // checkout.value.type === 'success'
  const { checkout: checkoutInstance } = checkout.value
  const result = await checkoutInstance.confirm()

  if (result.type === 'error') {
    console.error(result.error.message)
  }
  else {
    // Customer will be redirected to return_url
  }
}
</script>

<template>
  <form @submit.prevent="handleSubmit">
    <PaymentElement />
    <button type="submit">
      Submit
    </button>
  </form>
</template>
```

### Props

| Prop | Type | Description |
|------|------|-------------|
| `stripe` | `Stripe \| PromiseLike<Stripe \| null> \| null` | A Stripe object or Promise resolving to a Stripe object |
| `options` | `CheckoutProviderOptions` | Configuration options. [See available options](https://docs.stripe.com/js/custom_checkout/react/checkout_provider#custom_checkout_react_checkout_provider-options). Must provide `clientSecret` (string or function returning Promise<string>). |

## EmbeddedCheckout

The `EmbeddedCheckout` component provides a pre-built checkout UI that you embed directly in your application. It's simpler to use but offers less customization than Elements.

### Basic Usage

```vue
<script setup>
import { loadStripe } from '@stripe/stripe-js'
import { EmbeddedCheckout, EmbeddedCheckoutProvider } from 'vue-stripe'

const stripePromise = loadStripe('pk_test_xxx')

function fetchClientSecret() {
  return fetch('/create-checkout-session', { method: 'POST' })
    .then(response => response.json())
    .then(data => data.clientSecret)
}
</script>

<template>
  <EmbeddedCheckoutProvider
    :stripe="stripePromise"
    :options="{ fetchClientSecret }"
  >
    <EmbeddedCheckout />
  </EmbeddedCheckoutProvider>
</template>
```

### With Options

```vue
<template>
  <EmbeddedCheckoutProvider
    :stripe="stripePromise"
    :options="{
      fetchClientSecret,
      onComplete: () => {
        console.log('Checkout completed')
      },
    }"
  >
    <EmbeddedCheckout />
  </EmbeddedCheckoutProvider>
</template>
```

### Props

#### EmbeddedCheckoutProvider

| Prop | Type | Description |
|------|------|-------------|
| `stripe` | `Stripe \| PromiseLike<Stripe \| null> \| null` | A Stripe object or Promise resolving to a Stripe object |
| `options` | `EmbeddedCheckoutOptions` | Configuration options. [See available options](https://docs.stripe.com/js/embedded-checkout/embedded-checkout#embedded_checkout_options). Must provide `fetchClientSecret` function. |

#### EmbeddedCheckout

| Prop | Type | Description |
|------|------|-------------|
| `options` | `EmbeddedCheckoutElementOptions` | Optional configuration for the embedded checkout element. [See available options](https://docs.stripe.com/js/embedded-checkout/embedded-checkout#embedded_checkout_element_options). |

### Events

| Event | Description |
|-------|-------------|
| `@ready` | Triggered when Embedded Checkout is fully loaded |
| `@complete` | Triggered when the checkout is completed |
| `@error` | Triggered when there is an error |

## Example: CheckoutProvider with Express Checkout

```vue
<script setup>
import { loadStripe } from '@stripe/stripe-js'
import {
  CheckoutProvider,
  ExpressCheckoutElement,
  PaymentElement,
  useCheckout
} from 'vue-stripe/checkout'

const stripePromise = loadStripe('pk_test_xxx')
const checkout = useCheckout()

function fetchClientSecret() {
  return fetch('/create-checkout-session', { method: 'POST' })
    .then(response => response.json())
    .then(data => data.clientSecret)
}
</script>

<template>
  <CheckoutProvider
    :stripe="stripePromise"
    :options="{ clientSecret: fetchClientSecret }"
  >
    <form>
      <ExpressCheckoutElement />
      <PaymentElement />
      <button type="submit">
        Pay
      </button>
    </form>
  </CheckoutProvider>
</template>
```

## Choosing Between CheckoutProvider and EmbeddedCheckout

- **Use CheckoutProvider** when you need:
  - Custom layout and styling
  - Integration with your existing forms
  - More control over the checkout flow
  - Use of individual Element components

- **Use EmbeddedCheckout** when you need:
  - Quick integration with minimal code
  - Pre-built checkout UI
  - Less customization requirements

For detailed information about Checkout and its usage, refer to the [Stripe Checkout documentation](https://docs.stripe.com/payments/checkout).
